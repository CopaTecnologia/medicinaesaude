'use strict';var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}(function(){'use strict';var a=function(){function a(b){var c=b.parent,d=b.children,e=b.start,f=b.interval;_classCallCheck(this,a),this.parent=c instanceof HTMLElement?c:document.querySelector(c),this.children=d instanceof NodeList?d:document.querySelectorAll(d),this.interval=f||3e3,this.render(e)}return _createClass(a,[{key:'render',value:function render(a){var b=this;a=this.setIndex(a);var c=this.children[a],d=this.children[a-1]||this.children[this.children.length-1],e=this.children[a+1]||this.children[0];this.forEach(function(a){var f=a===c?'current':a===d?'prev':a===e?'next':'idle';b.setState(a,f)})}},{key:'setState',value:function setState(a,b){return a instanceof HTMLElement?void['idle','prev','current','next'].forEach(function(c){c===b?a.classList.add(c):a.classList.remove(c)}):console.log('SlideShow.setState: '+a+' is not an HTMLElement!',a)}},{key:'setIndex',value:function setIndex(a){return this.index=isNaN(a)||!isFinite(a)?0:a>=this.children.length?0:0>a?this.children.length-1:a,this.index}},{key:'goTo',value:function goTo(a){this.render(a)}},{key:'goPrev',value:function goPrev(){this.render(this.index-1)}},{key:'goNext',value:function goNext(){this.render(this.index+1)}},{key:'play',value:function play(){var a=this;this.timeoutId=setInterval(function(){a.goNext()},this.interval)}},{key:'pause',value:function pause(){this.timeoutId&&clearInterval(this.timeoutId)}},{key:'forEach',value:function forEach(a){!a instanceof Function||Array.prototype.forEach.call(this.children,a)}}],[{key:'initAll',value:function initAll(a){return'string'==typeof a&&(a=document.querySelectorAll(a)),Array.prototype.map.call(a,this.create)}},{key:'create',value:function create(b){var c=new a({parent:b,children:b.getAttribute('data-children')||'.slide',start:b.getAttribute('data-start')||0,interval:b.getAttribute('data-interval')||3e3});return c.play(),b.addEventListener('mouseover',function(){return c.pause()}),b.addEventListener('mouseout',function(){return c.play()}),c}}]),a}(),b=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}();document.body.addEventListener('touchstart',function(){});var c=document.querySelector('.parallax-container');if(c){var d=function(){return!(scrollY>g)&&void b(function(){f.style.webkitTransform='translateY('+.5*scrollY+'px)',f.style.transform='translateY('+.5*scrollY+'px)',e.style.webkitTransform='translateY('+.75*scrollY+'px)',e.style.transform='translateY('+.75*scrollY+'px)'})},e=document.querySelector('.site-header'),f=c.querySelector('.parallax-content'),g=c.offsetTop+c.offsetHeight;f&&(window.addEventListener('gesturechange',d,{passive:!0}),window.addEventListener('touchmove',d,{passive:!0}),window.addEventListener('scroll',d))}(function(a){function b(){Array.prototype.forEach.call(a,function(a){var b=a.offsetTop-.8*window.innerHeight,c=a.offsetTop+.8*a.offsetHeight;pageYOffset<b?(a.classList.add('below-screen'),a.classList.remove('above-screen')):pageYOffset>c?(a.classList.remove('below-screen'),a.classList.add('above-screen')):(a.classList.remove('below-screen'),a.classList.remove('above-screen'))})}'string'==typeof a&&(a=document.querySelectorAll(a));a.length&&(window.addEventListener('scroll',b),window.addEventListener('resize',b),window.addEventListener('load',b))})('.sliding-box'),a.initAll('.slideshow')})();